{% extends 'backend/dashboard/main.html' %}
{% load static %}

{% block title %}
{{ block.super }}: {{ title }}
{% endblock title %}
    
{% block body %} 
    <div class="page-content fade-in-up">
        
        <div class="row">
            <div class="col-12 col-sm-6 col-md-6 col-lg-3 col-xl-3 col-xxl-3">
                <a href="{% url 'all-user' %}">
                    <div class="ibox bg-success color-white widget-stat">
                        <div class="ibox-body">
                            <h2 class="m-b-5 font-strong">{{ total_users }}</h2>
                            <div class="m-b-5 text-uppercase font-weight-bold">TOTAL USER{{ total_users|pluralize }}</div><i class="bx bx-group bx-md widget-stat-icon"></i>
                        </div>
                    </div>
                </a>
            </div>
            
            <div class="col-12 col-sm-6 col-md-6 col-lg-3 col-xl-3 col-xxl-3">
                <a href="{% url 'view-superuser' %}">
                    <div class="ibox bg-info color-white widget-stat">
                        <div class="ibox-body">
                            <h2 class="m-b-5 font-strong">{{ total_superusers }}</h2>
                            <div class="m-b-5 text-uppercase font-strong">SUPER USER{{ total_superusers|pluralize }}</div><i class="bx bxs-group bx-md widget-stat-icon"></i>
                        </div>
                    </div>
                </a>
            </div>
            
            <div class="col-12 col-sm-6 col-md-6 col-lg-3 col-xl-3 col-xxl-3">
                <a href="{% url 'view-user' %}">
                    <div class="ibox bg-secondary color-white widget-stat">
                        <div class="ibox-body">
                            <h2 class="m-b-5 font-strong">{{ total_regular }}</h2>
                            <div class="m-b-5 text-uppercase font-strong">TOTAL REGULAR USER{{ total_regular|pluralize }}</div><i class="bx bx-group bx-md widget-stat-icon"></i>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-12 col-sm-6 col-md-6 col-lg-3 col-xl-3 col-xxl-3">
                <a href="{% url 'view-banned' %}">
                    <div class="ibox bg-danger color-white widget-stat">
                        <div class="ibox-body">
                            <h2 class="m-b-5 font-strong">{{ total_ban }}</h2>
                            <div class="m-b-5 text-uppercase font-strong">BANNED USER{{ total_ban|pluralize }}</div><i class="bx bx-group bx-md widget-stat-icon"></i>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <div class="row">
            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12">
                <!-- START OF MESSAGE -->
                {% include 'backend/partials/messages.html' %}
                <!-- END OF MESSAGE -->
                <div class="ibox">
                    <div class="ibox-head bg-white color-dark">
                        <div class="ibox-title">Total Staff User{{ total_staff|pluralize }} [{{ total_staff }}]</div>
                        <div>
                            <a class="btn btn-dark btn-sm font-weight-bold" href="{% url 'staffuser' %}">Add Staff User<i class="bx bx-plus-circle ml-1"></i></a>
                        </div>
                    </div>
                    <div class="ibox-body">
                        <table class="table table-striped table-bordered table-hover" id="example-table" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th>Username:</th>
                                    <th>Full Name:</th>
                                    <th>Email Address:</th>
                                    <th>Phone Number:</th>
                                    <th>Gender:</th>
                                    <th class="text-center">Action</th>
                                </tr>
                            </thead>
                            <tfoot>
                                <tr>
                                    <th class="text-center">Action</th>
                                    <th>Username:</th>
                                    <th>Full Name:</th>
                                    <th>Email Address:</th>
                                    <th>Phone Number:</th>
                                    <th>Gender:</th>
                                    <th class="text-center">Action</th>
                                </tr>
                            </tfoot>
                            <tbody>
                                {% for key in users %}
                                <tr>
                                    <td class="text-center"><a href="{% url 'profile' key.username %}" class="btn btn-sm btn-info">View Profile</a></td>
                                    <td>{{ key.username }}</td>
                                    <td>{{ key.last_name }}, {{ key.first_name }} {{ key.profile.middle_name }}</td>
                                    <td>{{ key.email }}</td>
                                    <td>{{ key.profile.phone }}</td>
                                    <td>{{ key.profile.gender }}</td>
                                    <td class="text-center"><a href="{% url 'edit-staffuser' key.slug %}" class="btn btn-sm btn-info">Edit Staff User</a></td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock body %}
    